import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.concurrent.ThreadLocalRandom;

public class ProcessoSeletivo {

    public static void main(String[] args) {
        System.out.println("--- INICIANDO PROCESSO SELETIVO ---\n");

        // 1. e 2. Analisando e Selecionando Candidatos
        List<String> candidatosSelecionados = selecaoCandidatos();

        // 3. Imprimindo a lista
        imprimirSelecionados(candidatosSelecionados);

        // 4. Fazendo ligações
        entrandoEmContato(candidatosSelecionados);
    }

    // Método principal de seleção
    static List<String> selecaoCandidatos() {
        // Base de dados (Array de candidatos)
        String[] candidatos = {"FELIPE", "MÁRCIA", "JULIA", "PAULO", "AUGUSTO", "MONICA", "FABRICIO", "MIRELA", "DANIELA", "JORGE"};
        
        List<String> selecionados = new ArrayList<>();
        int candidatosAtuais = 0;
        int candidatoAtualIndex = 0;
        double salarioBase = 2000.0;

        // Loop para selecionar até 5 candidatos ou acabar a lista
        while (candidatosAtuais < 5 && candidatoAtualIndex < candidatos.length) {
            String candidato = candidatos[candidatoAtualIndex];
            double salarioPretendido = valorPretendido();

            System.out.println("O candidato " + candidato + " solicitou este valor de salário: " + String.format("%.2f", salarioPretendido));

            if (salarioBase >= salarioPretendido) {
                System.out.println("LEGAL: O candidato " + candidato + " foi selecionado para a vaga.");
                selecionados.add(candidato);
                candidatosAtuais++;
            } else {
                System.out.println("QUE PENA: O candidato " + candidato + " não foi selecionado.");
            }
            
            candidatoAtualIndex++;
        }
        return selecionados;
    }

    // Método para imprimir a lista final
    static void imprimirSelecionados(List<String> selecionados) {
        System.out.println("\n--- LISTA DE CANDIDATOS SELECIONADOS ---");
        
        if (selecionados.isEmpty()) {
            System.out.println("Nenhum candidato foi selecionado.");
        } else {
            for (int i = 0; i < selecionados.size(); i++) {
                System.out.println("O candidato nº " + (i + 1) + " é o " + selecionados.get(i));
            }
        }
    }

    // Método para tentar contato (até 3 tentativas)
    static void entrandoEmContato(List<String> selecionados) {
        System.out.println("\n--- FAZENDO LIGAÇÕES ---");
        
        for (String candidato : selecionados) {
            int tentativasRealizadas = 1;
            boolean continuarTentando = true;
            boolean atendeu = false;

            do {
                atendeu = atender();
                continuarTentando = !atendeu;

                if (continuarTentando)
                    tentativasRealizadas++;
                else
                    System.out.println("CONSEGUIMOS CONTATO COM " + candidato + " NA " + tentativasRealizadas + "ª TENTATIVA");

            } while (continuarTentando && tentativasRealizadas < 3);

            if (!atendeu)
                System.out.println("NÃO CONSEGUIMOS CONTATO COM " + candidato + ", NÚMERO MAXIMO TENTATIVAS " + tentativasRealizadas + " REALIZADA");
        }
    }

    // Método auxiliar: Gera um valor de salário aleatório entre 1800 e 2200
    static double valorPretendido() {
        return ThreadLocalRandom.current().nextDouble(1800, 2200);
    }

    // Método auxiliar: Simula se a pessoa atendeu o telefone (randomico)
    static boolean atender() {
        return new Random().nextInt(3) == 1;
    }
}
